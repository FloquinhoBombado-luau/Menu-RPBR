-- ‚ö†Ô∏è Script feito para ajudar o RPBR ‚ö†Ô∏è

local player = game.Players.LocalPlayer
local StarterGui = game:GetService("StarterGui")
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

local postesFolder = workspace:WaitForChild("Postes")
local tempoEspera = 1
local tempoPressionar = 2
local targetSize = Vector3.new(0.8908141851425171, 3.15348219871521, 1.7905367612838745)
local loopAtivo = false

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AutoFarmUI"
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 250, 0, 150)
mainFrame.Position = UDim2.new(0, 20, 0, 100)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -30, 0, 30)
titleLabel.Position = UDim2.new(0, 5, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "‚ò†Ô∏è Auto Farm de Postes üêÑü™ê"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 16
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Parent = mainFrame

local minimizeButton = Instance.new("TextButton")
minimizeButton.Size = UDim2.new(0, 25, 0, 25)
minimizeButton.Position = UDim2.new(1, -30, 0, 2)
minimizeButton.Text = "-"
minimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
minimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeButton.Font = Enum.Font.GothamBold
minimizeButton.TextSize = 18
minimizeButton.Parent = mainFrame

local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, 0, 1, -30)
contentFrame.Position = UDim2.new(0, 0, 0, 30)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = mainFrame

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1, -20, 0, 20)
statusLabel.Position = UDim2.new(0, 10, 0, 10)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Status: Pressione para come√ßar"
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextSize = 14
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Parent = contentFrame

local startButton = Instance.new("TextButton")
startButton.Size = UDim2.new(0.45, 0, 0, 30)
startButton.Position = UDim2.new(0.05, 0, 0, 50)
startButton.Text = "‚òÑÔ∏è Iniciar"
startButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
startButton.TextColor3 = Color3.fromRGB(255, 255, 255)
startButton.Font = Enum.Font.GothamBold
startButton.TextSize = 14
startButton.Parent = contentFrame

local stopButton = Instance.new("TextButton")
stopButton.Size = UDim2.new(0.45, 0, 0, 30)
stopButton.Position = UDim2.new(0.5, 0, 0, 50)
stopButton.Text = "‚èπ Parar"
stopButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
stopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
stopButton.Font = Enum.Font.GothamBold
stopButton.TextSize = 14
stopButton.Parent = contentFrame

local function tamanhoSemelhante(a, b, margem)
    margem = margem or 0.001
    return math.abs(a.X - b.X) < margem and math.abs(a.Y - b.Y) < margem and math.abs(a.Z - b.Z) < margem
end

local function teleportarParaParteComSize(poste)
    for _, part in ipairs(poste:GetDescendants()) do
        if part:IsA("BasePart") and tamanhoSemelhante(part.Size, targetSize) then
            local altura = part.Size.Y / 2
            humanoidRootPart.CFrame = part.CFrame + Vector3.new(0, altura, 0)
            return true
        end
    end
    return false
end

local function acionarPrompt(poste)
    for _, desc in ipairs(poste:GetDescendants()) do
        if desc:IsA("ProximityPrompt") then
            desc.KeyboardKeyCode = Enum.KeyCode.F
            desc.RequiresLineOfSight = false
            desc.MaxActivationDistance = math.huge
            desc.HoldDuration = tempoPressionar
            desc:InputHoldBegin()
            task.wait(tempoPressionar + 0.2)
            desc:InputHoldEnd()
            return true
        end
    end
    return false
end

local function iniciarColeta()
    while loopAtivo do
        statusLabel.Text = "üü° Status: Procurando"
        local postesValidos = {}
        for _, poste in ipairs(postesFolder:GetChildren()) do
            local estragado = poste:FindFirstChild("Estragado")
            if estragado and estragado:IsA("BoolValue") and estragado.Value == true then
                table.insert(postesValidos, poste)
            end
        end
        for _, poste in ipairs(postesValidos) do
            if not loopAtivo then break end
            statusLabel.Text = "üü¢ Status: Pegando"
            if teleportarParaParteComSize(poste) then
                task.wait(tempoEspera)
                acionarPrompt(poste)
                task.wait(tempoEspera)
            end
        end
        statusLabel.Text = "üî¥ Status: Finalizando aguarde!"
        task.wait(2)
    end
    statusLabel.Text = "üî¥ Status: Parado"
end

startButton.MouseButton1Click:Connect(function()
    if not loopAtivo then
        loopAtivo = true
        statusLabel.Text = "üü¢ Status: Iniciando "
        task.spawn(iniciarColeta)
    end
end)

stopButton.MouseButton1Click:Connect(function()
    loopAtivo = false
    statusLabel.Text = "üü° Status do script: Parando..."
end)

local minimizado = false
minimizeButton.MouseButton1Click:Connect(function()
    minimizado = not minimizado
    contentFrame.Visible = not minimizado
    minimizeButton.Text = minimizado and "+" or "-"
    mainFrame.Size = minimizado and UDim2.new(0, 250, 0, 30) or UDim2.new(0, 250, 0, 150)
end)
-- üêÑü™ê
